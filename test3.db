record(ai, "temperature:water")
{
    field(DESC, "Water temperature in the fish tank")
    field(HOPR, "100")
    field(LOPR, "0")
    field(EGU,  "C")
}

record(ao, "temperature:setpoint")
{
	field(DRVH, "100")
	field(DRVL, "0")
	field(EGU, "C")
}

record(bi, "scanner") 
{
	field(SCAN, "1 second")
	field(FLNK, "temperature:control")
}

record(calcout, "temperature:control")
{
	field(DESC, "proportional controller")
	field(INPA, "temperature:setpoint")
	field(INPB, "temperature:water")
	field(CALC, "VAL + (A-B)/2")
	field(OUT,  "temperature:water PP")
}


